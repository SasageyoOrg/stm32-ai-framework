Neural Network Tools for STM32AI v1.6.0 (STM.ai v7.1.0-RC3)
Created date          : 2022-08-03 16:50:00
Parameters            : generate --name network -m /Users/edoardo/STM32CubeIDE/workspace_1.10.1/stm32f4-ai-framework/Models/foodreco/FoodReco_MobileNet_Derivative_Quantized.h5 --type keras --compression 1 --quantize /Users/edoardo/STM32CubeIDE/workspace_1.10.1/stm32f4-ai-framework/Models/foodreco/FoodReco_MobileNet_Derivative_Quantized.json --verbosity 1 --workspace /var/folders/48/l0spqxpd4fb53zl2tk8w7hq00000gn/T/mxAI_workspace670885881212214875570172897155449 --output /Users/edoardo/.stm32cubemx/network_output

Exec/report summary (generate)
------------------------------------------------------------------------------------------------------------------------
model file            : /Users/edoardo/STM32CubeIDE/workspace_1.10.1/stm32f4-ai-framework/Models/foodreco/FoodReco_MobileNet_Derivative_Quantized.h5
type                  : keras
c_name                : network
compression           : None
quantize              : /Users/edoardo/STM32CubeIDE/workspace_1.10.1/stm32f4-ai-framework/Models/foodreco/FoodReco_MobileNet_Derivative_Quantized.json
allocator strategy    : ['multi-heaps']
target info           : /private/var/folders/48/l0spqxpd4fb53zl2tk8w7hq00000gn/T/mxAI_workspace670885881212214875570172897155449/mempools.json
workspace dir         : /private/var/folders/48/l0spqxpd4fb53zl2tk8w7hq00000gn/T/mxAI_workspace670885881212214875570172897155449
output dir            : /Users/edoardo/.stm32cubemx/network_output
model_name            : FoodReco_MobileNet_Derivative_Quantized
model_hash            : 1f5a7ae86308bf74a8d7be98358877a9
input 1/1             : 'quantize_input_2'
                        150529 items, 147.00 KiB, ai_u8, scale=0.00392157, zero_point=0, (1,224,224,3), domain:user/
output 1/1            : 'act_softmax'
                        18 items, 72 B, ai_float, float, (1,1,1,18), domain:user/
params #              : 128,818 items (503.20 KiB)
macc                  : 11,801,396
weights (ro)          : 134,776 B (131.62 KiB) / -380,496(-73.8%) vs original model (1 segment)
activations (rw)      : 101,144 B (98.77 KiB) (1 segment)
ram (total)           : 251,745 B (245.84 KiB) = 101,144 + 150,529 + 72

Memory-pools summary (activations/ domain)
-----------------------------------------------------
name   id   usable size   used               buffer#
-----------------------------------------------------
pool   0    4.00 MiB      98.77 KiB (2.4%)   50     
-----------------------------------------------------

Model name - FoodReco_MobileNet_Derivative_Quantized ['quantize_input_2'] ['reshape_2']
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
id   layer (type)                                 oshape             param/size       macc        connected to                          |   c_size            c_macc              c_type                  
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
0    quantize_input_2 (Input)                     (None,224,224,3)                                                                      |                                        
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1    quantize_conv1_conv2d (Conv2D)               (None,112,112,8)   224/896          2,709,512   quantize_input_2                      |   -648(-72.3%)                          conv2d(i)[0]            
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2    quantize_conv1_relu (Nonlinearity)           (None,112,112,8)                    100,352     quantize_conv1_conv2d                 |                     -100,352(-100.0%)  
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
3    quantize_conv_dw_1_conv2d (Conv2D)           (None,56,56,8)     80/320           225,800     quantize_conv1_relu                   |   -216(-67.5%)                          conv2d(i)[1]            
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
4    quantize_conv_pw_1_conv2d (Conv2D)           (None,56,56,16)    144/576          401,424     quantize_conv_dw_1_conv2d             |   -384(-66.7%)                          conv2d(i)[2]            
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
5    quantize_conv_pw_1_relu (Nonlinearity)       (None,56,56,16)                     50,176      quantize_conv_pw_1_conv2d             |                     -50,176(-100.0%)   
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
6    quantize_conv_dw_2_conv2d (Conv2D)           (None,28,28,16)    160/640          112,912     quantize_conv_pw_1_relu               |   -432(-67.5%)                          conv2d(i)[3]            
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
7    quantize_conv_pw_2_conv2d (Conv2D)           (None,28,28,32)    544/2,176        401,440     quantize_conv_dw_2_conv2d             |   -1,536(-70.6%)                        conv2d(i)[4]            
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
8    quantize_conv_pw_2_relu (Nonlinearity)       (None,28,28,32)                     25,088      quantize_conv_pw_2_conv2d             |                     -25,088(-100.0%)   
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
9    quantize_conv_dw_3_conv2d (Conv2D)           (None,28,28,32)    320/1,280        225,824     quantize_conv_pw_2_relu               |   -864(-67.5%)                          conv2d(i)[5]            
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
10   quantize_conv_pw_3_conv2d (Conv2D)           (None,28,28,32)    1,056/4,224      802,848     quantize_conv_dw_3_conv2d             |   -3,072(-72.7%)                        conv2d(i)[6]            
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
11   quantize_conv_pw_3_relu (Nonlinearity)       (None,28,28,32)                     25,088      quantize_conv_pw_3_conv2d             |                     -25,088(-100.0%)   
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12   quantize_conv_dw_4_conv2d (Conv2D)           (None,14,14,32)    320/1,280        56,480      quantize_conv_pw_3_relu               |   -864(-67.5%)                          conv2d(i)[7]            
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
13   quantize_conv_pw_4_conv2d (Conv2D)           (None,14,14,64)    2,112/8,448      401,472     quantize_conv_dw_4_conv2d             |   -6,144(-72.7%)                        conv2d(i)[8]            
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
14   quantize_conv_pw_4_relu (Nonlinearity)       (None,14,14,64)                     12,544      quantize_conv_pw_4_conv2d             |                     -12,544(-100.0%)   
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
15   quantize_conv_dw_5_conv2d (Conv2D)           (None,14,14,64)    640/2,560        112,960     quantize_conv_pw_4_relu               |   -1,728(-67.5%)                        conv2d(i)[9]            
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
16   quantize_conv_pw_5_conv2d (Conv2D)           (None,14,14,64)    4,160/16,640     802,880     quantize_conv_dw_5_conv2d             |   -12,288(-73.8%)                       conv2d(i)[10]           
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
17   quantize_conv_pw_5_relu (Nonlinearity)       (None,14,14,64)                     12,544      quantize_conv_pw_5_conv2d             |                     -12,544(-100.0%)   
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
18   quantize_conv_dw_6_conv2d (Conv2D)           (None,7,7,64)      640/2,560        28,288      quantize_conv_pw_5_relu               |   -1,728(-67.5%)                        conv2d(i)[11]           
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
19   quantize_conv_pw_6_conv2d (Conv2D)           (None,7,7,128)     8,320/33,280     401,536     quantize_conv_dw_6_conv2d             |   -24,576(-73.8%)                       conv2d(i)[12]           
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
20   quantize_conv_pw_6_relu (Nonlinearity)       (None,7,7,128)                      6,272       quantize_conv_pw_6_conv2d             |                     -6,272(-100.0%)    
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
21   quantize_conv_dw_7_conv2d (Conv2D)           (None,7,7,128)     1,280/5,120      56,576      quantize_conv_pw_6_relu               |   -3,456(-67.5%)                        conv2d(i)[13]           
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
22   quantize_conv_pw_7_conv2d (Conv2D)           (None,7,7,128)     16,512/66,048    802,944     quantize_conv_dw_7_conv2d             |   -49,152(-74.4%)                       conv2d(i)[14]           
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
23   quantize_conv_pw_7_relu (Nonlinearity)       (None,7,7,128)                      6,272       quantize_conv_pw_7_conv2d             |                     -6,272(-100.0%)    
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
24   quantize_conv_dw_8_conv2d (Conv2D)           (None,7,7,128)     1,280/5,120      56,576      quantize_conv_pw_7_relu               |   -3,456(-67.5%)                        conv2d(i)[15]           
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
25   quantize_conv_pw_8_conv2d (Conv2D)           (None,7,7,128)     16,512/66,048    802,944     quantize_conv_dw_8_conv2d             |   -49,152(-74.4%)                       conv2d(i)[16]           
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
26   quantize_conv_pw_8_relu (Nonlinearity)       (None,7,7,128)                      6,272       quantize_conv_pw_8_conv2d             |                     -6,272(-100.0%)    
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
27   quantize_conv_dw_9_conv2d (Conv2D)           (None,7,7,128)     1,280/5,120      56,576      quantize_conv_pw_8_relu               |   -3,456(-67.5%)                        conv2d(i)[17]           
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
28   quantize_conv_pw_9_conv2d (Conv2D)           (None,7,7,128)     16,512/66,048    802,944     quantize_conv_dw_9_conv2d             |   -49,152(-74.4%)                       conv2d(i)[18]           
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
29   quantize_conv_pw_9_relu (Nonlinearity)       (None,7,7,128)                      6,272       quantize_conv_pw_9_conv2d             |                     -6,272(-100.0%)    
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
30   quantize_conv_dw_10_conv2d (Conv2D)          (None,7,7,128)     1,280/5,120      56,576      quantize_conv_pw_9_relu               |   -3,456(-67.5%)                        conv2d(i)[19]           
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
31   quantize_conv_pw_10_conv2d (Conv2D)          (None,7,7,128)     16,512/66,048    802,944     quantize_conv_dw_10_conv2d            |   -49,152(-74.4%)                       conv2d(i)[20]           
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
32   quantize_conv_pw_10_relu (Nonlinearity)      (None,7,7,128)                      6,272       quantize_conv_pw_10_conv2d            |                     -6,272(-100.0%)    
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
33   quantize_conv_dw_11_conv2d (Conv2D)          (None,7,7,128)     1,280/5,120      56,576      quantize_conv_pw_10_relu              |   -3,456(-67.5%)                        conv2d(i)[21]           
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
34   quantize_conv_pw_11_conv2d (Conv2D)          (None,7,7,256)     33,024/132,096   1,605,888   quantize_conv_dw_11_conv2d            |   -98,304(-74.4%)   +12,544(+0.8%)      optimized_conv2d(i)[22] 
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
35   quantize_conv_pw_11_relu (Nonlinearity)      (None,7,7,256)                      12,544      quantize_conv_pw_11_conv2d            |                     -12,544(-100.0%)   
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
36   quantize_global_average_pooling2d_2 (Pool)   (None,1,1,256)                      12,544      quantize_conv_pw_11_relu              |                     -12,544(-100.0%)   
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
37   reshape_1 (Reshape)                          (1,1,1,256)                                     quantize_global_average_pooling2d_2   |                                        
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
39   quantize_conv_preds_conv2d (Conv2D)          (1,1,1,18)         4,626/18,504     4,626       reshape_1                             |   -13,824(-74.7%)   +36(+0.8%)          conv2d(i)/conv()[23, 24]
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
40   act_softmax (Nonlinearity)                   (1,1,1,18)                          270         quantize_conv_preds_conv2d            |                                         nl()/o[25]              
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
41   reshape_2 (Reshape)                          (1,1,1,18)                                      act_softmax                           |                                        
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
model/c-model: macc=12,071,056/11,801,396 -269,660(-2.2%) weights=515,272/134,776 -380,496(-73.8%) activations=--/101,144 io=--/150,601



Generated C-graph summary
------------------------------------------------------------------------------------------------------------------------
model name            : foodreco_mobilenet_derivative_quantized
c-name                : network
c-node #              : 26
c-array #             : 100
activations size      : 101144 (1 segments)
weights size          : 134776 (1 segments)
macc                  : 11801396
inputs                : ['quantize_input_2_output']
outputs               : ['act_softmax_output']

C-Arrays (100)
------------------------------------------------------------------------------------------------------------------------------
c_id   name (*_array)                                   item/size       domain/mem-pool    c-type          fmt        comment
------------------------------------------------------------------------------------------------------------------------------
0      quantize_input_2_output                          150529/150529   user/              uint8_t         int8/ua    /input 
1      quantize_conv1_conv2d_output                     100352/100352   activations/pool   uint8_t         int8/ua           
2      quantize_conv_dw_1_conv2d_output                 25088/25088     activations/pool   uint8_t         int8/ua           
3      quantize_conv_pw_1_conv2d_output                 50176/50176     activations/pool   uint8_t         int8/ua           
4      quantize_conv_dw_2_conv2d_output                 12544/12544     activations/pool   uint8_t         int8/ua           
5      quantize_conv_pw_2_conv2d_output                 25088/25088     activations/pool   uint8_t         int8/ua           
6      quantize_conv_dw_3_conv2d_output                 25088/25088     activations/pool   uint8_t         int8/ua           
7      quantize_conv_pw_3_conv2d_output                 25088/25088     activations/pool   uint8_t         int8/ua           
8      quantize_conv_dw_4_conv2d_output                 6272/6272       activations/pool   uint8_t         int8/ua           
9      quantize_conv_pw_4_conv2d_output                 12544/12544     activations/pool   uint8_t         int8/ua           
10     quantize_conv_dw_5_conv2d_output                 12544/12544     activations/pool   uint8_t         int8/ua           
11     quantize_conv_pw_5_conv2d_output                 12544/12544     activations/pool   uint8_t         int8/ua           
12     quantize_conv_dw_6_conv2d_output                 3136/3136       activations/pool   uint8_t         int8/ua           
13     quantize_conv_pw_6_conv2d_output                 6272/6272       activations/pool   uint8_t         int8/ua           
14     quantize_conv_dw_7_conv2d_output                 6272/6272       activations/pool   uint8_t         int8/ua           
15     quantize_conv_pw_7_conv2d_output                 6272/6272       activations/pool   uint8_t         int8/ua           
16     quantize_conv_dw_8_conv2d_output                 6272/6272       activations/pool   uint8_t         int8/ua           
17     quantize_conv_pw_8_conv2d_output                 6272/6272       activations/pool   uint8_t         int8/ua           
18     quantize_conv_dw_9_conv2d_output                 6272/6272       activations/pool   uint8_t         int8/ua           
19     quantize_conv_pw_9_conv2d_output                 6272/6272       activations/pool   uint8_t         int8/ua           
20     quantize_conv_dw_10_conv2d_output                6272/6272       activations/pool   uint8_t         int8/ua           
21     quantize_conv_pw_10_conv2d_output                6272/6272       activations/pool   uint8_t         int8/ua           
22     quantize_conv_dw_11_conv2d_output                6272/6272       activations/pool   uint8_t         int8/ua           
23     quantize_conv_pw_11_conv2d_output                256/256         activations/pool   uint8_t         int8/ua           
24     quantize_conv_preds_conv2d_output                18/18           activations/pool   uint8_t         int8/ua           
25     quantize_conv_preds_conv2d_0_conversion_output   18/72           activations/pool   float           float             
26     act_softmax_output                               18/72           user/              float           float      /output
27     quantize_conv1_conv2d_weights                    216/216         weights/           const uint8_t   int8/ua           
28     quantize_conv1_conv2d_bias                       8/32            weights/           const int32_t   int32/sa          
29     quantize_conv_dw_1_conv2d_weights                72/72           weights/           const uint8_t   int8/ua           
30     quantize_conv_dw_1_conv2d_bias                   8/32            weights/           const int32_t   int32/sa          
31     quantize_conv_pw_1_conv2d_weights                128/128         weights/           const uint8_t   int8/ua           
32     quantize_conv_pw_1_conv2d_bias                   16/64           weights/           const int32_t   int32/sa          
33     quantize_conv_dw_2_conv2d_weights                144/144         weights/           const uint8_t   int8/ua           
34     quantize_conv_dw_2_conv2d_bias                   16/64           weights/           const int32_t   int32/sa          
35     quantize_conv_pw_2_conv2d_weights                512/512         weights/           const uint8_t   int8/ua           
36     quantize_conv_pw_2_conv2d_bias                   32/128          weights/           const int32_t   int32/sa          
37     quantize_conv_dw_3_conv2d_weights                288/288         weights/           const uint8_t   int8/ua           
38     quantize_conv_dw_3_conv2d_bias                   32/128          weights/           const int32_t   int32/sa          
39     quantize_conv_pw_3_conv2d_weights                1024/1024       weights/           const uint8_t   int8/ua           
40     quantize_conv_pw_3_conv2d_bias                   32/128          weights/           const int32_t   int32/sa          
41     quantize_conv_dw_4_conv2d_weights                288/288         weights/           const uint8_t   int8/ua           
42     quantize_conv_dw_4_conv2d_bias                   32/128          weights/           const int32_t   int32/sa          
43     quantize_conv_pw_4_conv2d_weights                2048/2048       weights/           const uint8_t   int8/ua           
44     quantize_conv_pw_4_conv2d_bias                   64/256          weights/           const int32_t   int32/sa          
45     quantize_conv_dw_5_conv2d_weights                576/576         weights/           const uint8_t   int8/ua           
46     quantize_conv_dw_5_conv2d_bias                   64/256          weights/           const int32_t   int32/sa          
47     quantize_conv_pw_5_conv2d_weights                4096/4096       weights/           const uint8_t   int8/ua           
48     quantize_conv_pw_5_conv2d_bias                   64/256          weights/           const int32_t   int32/sa          
49     quantize_conv_dw_6_conv2d_weights                576/576         weights/           const uint8_t   int8/ua           
50     quantize_conv_dw_6_conv2d_bias                   64/256          weights/           const int32_t   int32/sa          
51     quantize_conv_pw_6_conv2d_weights                8192/8192       weights/           const uint8_t   int8/ua           
52     quantize_conv_pw_6_conv2d_bias                   128/512         weights/           const int32_t   int32/sa          
53     quantize_conv_dw_7_conv2d_weights                1152/1152       weights/           const uint8_t   int8/ua           
54     quantize_conv_dw_7_conv2d_bias                   128/512         weights/           const int32_t   int32/sa          
55     quantize_conv_pw_7_conv2d_weights                16384/16384     weights/           const uint8_t   int8/ua           
56     quantize_conv_pw_7_conv2d_bias                   128/512         weights/           const int32_t   int32/sa          
57     quantize_conv_dw_8_conv2d_weights                1152/1152       weights/           const uint8_t   int8/ua           
58     quantize_conv_dw_8_conv2d_bias                   128/512         weights/           const int32_t   int32/sa          
59     quantize_conv_pw_8_conv2d_weights                16384/16384     weights/           const uint8_t   int8/ua           
60     quantize_conv_pw_8_conv2d_bias                   128/512         weights/           const int32_t   int32/sa          
61     quantize_conv_dw_9_conv2d_weights                1152/1152       weights/           const uint8_t   int8/ua           
62     quantize_conv_dw_9_conv2d_bias                   128/512         weights/           const int32_t   int32/sa          
63     quantize_conv_pw_9_conv2d_weights                16384/16384     weights/           const uint8_t   int8/ua           
64     quantize_conv_pw_9_conv2d_bias                   128/512         weights/           const int32_t   int32/sa          
65     quantize_conv_dw_10_conv2d_weights               1152/1152       weights/           const uint8_t   int8/ua           
66     quantize_conv_dw_10_conv2d_bias                  128/512         weights/           const int32_t   int32/sa          
67     quantize_conv_pw_10_conv2d_weights               16384/16384     weights/           const uint8_t   int8/ua           
68     quantize_conv_pw_10_conv2d_bias                  128/512         weights/           const int32_t   int32/sa          
69     quantize_conv_dw_11_conv2d_weights               1152/1152       weights/           const uint8_t   int8/ua           
70     quantize_conv_dw_11_conv2d_bias                  128/512         weights/           const int32_t   int32/sa          
71     quantize_conv_pw_11_conv2d_weights               32768/32768     weights/           const uint8_t   int8/ua           
72     quantize_conv_pw_11_conv2d_bias                  256/1024        weights/           const int32_t   int32/sa          
73     quantize_conv_preds_conv2d_weights               4608/4608       weights/           const uint8_t   int8/ua           
74     quantize_conv_preds_conv2d_bias                  18/72           weights/           const int32_t   int32/sa          
75     quantize_conv1_conv2d_scratch0                   572/572         activations/pool   int8_t          int/ss            
76     quantize_conv_dw_1_conv2d_scratch0               217/217         activations/pool   int8_t          int/ss            
77     quantize_conv_pw_1_conv2d_scratch0               32/32           activations/pool   int8_t          int/ss            
78     quantize_conv_dw_2_conv2d_scratch0               433/433         activations/pool   int8_t          int/ss            
79     quantize_conv_pw_2_conv2d_scratch0               64/64           activations/pool   int8_t          int/ss            
80     quantize_conv_dw_3_conv2d_scratch0               865/865         activations/pool   int8_t          int/ss            
81     quantize_conv_pw_3_conv2d_scratch0               128/128         activations/pool   int8_t          int/ss            
82     quantize_conv_dw_4_conv2d_scratch0               865/865         activations/pool   int8_t          int/ss            
83     quantize_conv_pw_4_conv2d_scratch0               128/128         activations/pool   int8_t          int/ss            
84     quantize_conv_dw_5_conv2d_scratch0               1729/1729       activations/pool   int8_t          int/ss            
85     quantize_conv_pw_5_conv2d_scratch0               256/256         activations/pool   int8_t          int/ss            
86     quantize_conv_dw_6_conv2d_scratch0               1729/1729       activations/pool   int8_t          int/ss            
87     quantize_conv_pw_6_conv2d_scratch0               256/256         activations/pool   int8_t          int/ss            
88     quantize_conv_dw_7_conv2d_scratch0               3457/3457       activations/pool   int8_t          int/ss            
89     quantize_conv_pw_7_conv2d_scratch0               512/512         activations/pool   int8_t          int/ss            
90     quantize_conv_dw_8_conv2d_scratch0               3457/3457       activations/pool   int8_t          int/ss            
91     quantize_conv_pw_8_conv2d_scratch0               512/512         activations/pool   int8_t          int/ss            
92     quantize_conv_dw_9_conv2d_scratch0               3457/3457       activations/pool   int8_t          int/ss            
93     quantize_conv_pw_9_conv2d_scratch0               512/512         activations/pool   int8_t          int/ss            
94     quantize_conv_dw_10_conv2d_scratch0              3457/3457       activations/pool   int8_t          int/ss            
95     quantize_conv_pw_10_conv2d_scratch0              512/512         activations/pool   int8_t          int/ss            
96     quantize_conv_dw_11_conv2d_scratch0              3457/3457       activations/pool   int8_t          int/ss            
97     quantize_conv_pw_11_conv2d_scratch0              512/512         activations/pool   int8_t          int/ss            
98     quantize_conv_pw_11_conv2d_scratch1              12544/12544     activations/pool   uint8_t         int8/ua           
99     quantize_conv_preds_conv2d_scratch0              1024/1024       activations/pool   int8_t          int/ss            
------------------------------------------------------------------------------------------------------------------------------

C-Layers (26)
------------------------------------------------------------------------------------------------------------------------------------------------------------------
c_id   name (*_layer)                            id   layer_type         macc      rom     tensors                                             shape (array id)  
------------------------------------------------------------------------------------------------------------------------------------------------------------------
0      quantize_conv1_conv2d                     1    conv2d             2709512   248     I: quantize_input_2_output                          (1,224,224,3) (0) 
                                                                                           S: quantize_conv1_conv2d_scratch0                                     
                                                                                           W: quantize_conv1_conv2d_weights                    (3,8,3,3) (27)    
                                                                                           W: quantize_conv1_conv2d_bias                       (1,1,1,8) (28)    
                                                                                           O: quantize_conv1_conv2d_output                     (1,112,112,8) (1) 
------------------------------------------------------------------------------------------------------------------------------------------------------------------
1      quantize_conv_dw_1_conv2d                 3    conv2d             225800    104     I: quantize_conv1_conv2d_output                     (1,112,112,8) (1) 
                                                                                           S: quantize_conv_dw_1_conv2d_scratch0                                 
                                                                                           W: quantize_conv_dw_1_conv2d_weights                (8,1,3,3) (29)    
                                                                                           W: quantize_conv_dw_1_conv2d_bias                   (1,1,1,8) (30)    
                                                                                           O: quantize_conv_dw_1_conv2d_output                 (1,56,56,8) (2)   
------------------------------------------------------------------------------------------------------------------------------------------------------------------
2      quantize_conv_pw_1_conv2d                 4    conv2d             401424    192     I: quantize_conv_dw_1_conv2d_output                 (1,56,56,8) (2)   
                                                                                           S: quantize_conv_pw_1_conv2d_scratch0                                 
                                                                                           W: quantize_conv_pw_1_conv2d_weights                (8,16,1,1) (31)   
                                                                                           W: quantize_conv_pw_1_conv2d_bias                   (1,1,1,16) (32)   
                                                                                           O: quantize_conv_pw_1_conv2d_output                 (1,56,56,16) (3)  
------------------------------------------------------------------------------------------------------------------------------------------------------------------
3      quantize_conv_dw_2_conv2d                 6    conv2d             112912    208     I: quantize_conv_pw_1_conv2d_output                 (1,56,56,16) (3)  
                                                                                           S: quantize_conv_dw_2_conv2d_scratch0                                 
                                                                                           W: quantize_conv_dw_2_conv2d_weights                (16,1,3,3) (33)   
                                                                                           W: quantize_conv_dw_2_conv2d_bias                   (1,1,1,16) (34)   
                                                                                           O: quantize_conv_dw_2_conv2d_output                 (1,28,28,16) (4)  
------------------------------------------------------------------------------------------------------------------------------------------------------------------
4      quantize_conv_pw_2_conv2d                 7    conv2d             401440    640     I: quantize_conv_dw_2_conv2d_output                 (1,28,28,16) (4)  
                                                                                           S: quantize_conv_pw_2_conv2d_scratch0                                 
                                                                                           W: quantize_conv_pw_2_conv2d_weights                (16,32,1,1) (35)  
                                                                                           W: quantize_conv_pw_2_conv2d_bias                   (1,1,1,32) (36)   
                                                                                           O: quantize_conv_pw_2_conv2d_output                 (1,28,28,32) (5)  
------------------------------------------------------------------------------------------------------------------------------------------------------------------
5      quantize_conv_dw_3_conv2d                 9    conv2d             225824    416     I: quantize_conv_pw_2_conv2d_output                 (1,28,28,32) (5)  
                                                                                           S: quantize_conv_dw_3_conv2d_scratch0                                 
                                                                                           W: quantize_conv_dw_3_conv2d_weights                (32,1,3,3) (37)   
                                                                                           W: quantize_conv_dw_3_conv2d_bias                   (1,1,1,32) (38)   
                                                                                           O: quantize_conv_dw_3_conv2d_output                 (1,28,28,32) (6)  
------------------------------------------------------------------------------------------------------------------------------------------------------------------
6      quantize_conv_pw_3_conv2d                 10   conv2d             802848    1152    I: quantize_conv_dw_3_conv2d_output                 (1,28,28,32) (6)  
                                                                                           S: quantize_conv_pw_3_conv2d_scratch0                                 
                                                                                           W: quantize_conv_pw_3_conv2d_weights                (32,32,1,1) (39)  
                                                                                           W: quantize_conv_pw_3_conv2d_bias                   (1,1,1,32) (40)   
                                                                                           O: quantize_conv_pw_3_conv2d_output                 (1,28,28,32) (7)  
------------------------------------------------------------------------------------------------------------------------------------------------------------------
7      quantize_conv_dw_4_conv2d                 12   conv2d             56480     416     I: quantize_conv_pw_3_conv2d_output                 (1,28,28,32) (7)  
                                                                                           S: quantize_conv_dw_4_conv2d_scratch0                                 
                                                                                           W: quantize_conv_dw_4_conv2d_weights                (32,1,3,3) (41)   
                                                                                           W: quantize_conv_dw_4_conv2d_bias                   (1,1,1,32) (42)   
                                                                                           O: quantize_conv_dw_4_conv2d_output                 (1,14,14,32) (8)  
------------------------------------------------------------------------------------------------------------------------------------------------------------------
8      quantize_conv_pw_4_conv2d                 13   conv2d             401472    2304    I: quantize_conv_dw_4_conv2d_output                 (1,14,14,32) (8)  
                                                                                           S: quantize_conv_pw_4_conv2d_scratch0                                 
                                                                                           W: quantize_conv_pw_4_conv2d_weights                (32,64,1,1) (43)  
                                                                                           W: quantize_conv_pw_4_conv2d_bias                   (1,1,1,64) (44)   
                                                                                           O: quantize_conv_pw_4_conv2d_output                 (1,14,14,64) (9)  
------------------------------------------------------------------------------------------------------------------------------------------------------------------
9      quantize_conv_dw_5_conv2d                 15   conv2d             112960    832     I: quantize_conv_pw_4_conv2d_output                 (1,14,14,64) (9)  
                                                                                           S: quantize_conv_dw_5_conv2d_scratch0                                 
                                                                                           W: quantize_conv_dw_5_conv2d_weights                (64,1,3,3) (45)   
                                                                                           W: quantize_conv_dw_5_conv2d_bias                   (1,1,1,64) (46)   
                                                                                           O: quantize_conv_dw_5_conv2d_output                 (1,14,14,64) (10) 
------------------------------------------------------------------------------------------------------------------------------------------------------------------
10     quantize_conv_pw_5_conv2d                 16   conv2d             802880    4352    I: quantize_conv_dw_5_conv2d_output                 (1,14,14,64) (10) 
                                                                                           S: quantize_conv_pw_5_conv2d_scratch0                                 
                                                                                           W: quantize_conv_pw_5_conv2d_weights                (64,64,1,1) (47)  
                                                                                           W: quantize_conv_pw_5_conv2d_bias                   (1,1,1,64) (48)   
                                                                                           O: quantize_conv_pw_5_conv2d_output                 (1,14,14,64) (11) 
------------------------------------------------------------------------------------------------------------------------------------------------------------------
11     quantize_conv_dw_6_conv2d                 18   conv2d             28288     832     I: quantize_conv_pw_5_conv2d_output                 (1,14,14,64) (11) 
                                                                                           S: quantize_conv_dw_6_conv2d_scratch0                                 
                                                                                           W: quantize_conv_dw_6_conv2d_weights                (64,1,3,3) (49)   
                                                                                           W: quantize_conv_dw_6_conv2d_bias                   (1,1,1,64) (50)   
                                                                                           O: quantize_conv_dw_6_conv2d_output                 (1,7,7,64) (12)   
------------------------------------------------------------------------------------------------------------------------------------------------------------------
12     quantize_conv_pw_6_conv2d                 19   conv2d             401536    8704    I: quantize_conv_dw_6_conv2d_output                 (1,7,7,64) (12)   
                                                                                           S: quantize_conv_pw_6_conv2d_scratch0                                 
                                                                                           W: quantize_conv_pw_6_conv2d_weights                (64,128,1,1) (51) 
                                                                                           W: quantize_conv_pw_6_conv2d_bias                   (1,1,1,128) (52)  
                                                                                           O: quantize_conv_pw_6_conv2d_output                 (1,7,7,128) (13)  
------------------------------------------------------------------------------------------------------------------------------------------------------------------
13     quantize_conv_dw_7_conv2d                 21   conv2d             56576     1664    I: quantize_conv_pw_6_conv2d_output                 (1,7,7,128) (13)  
                                                                                           S: quantize_conv_dw_7_conv2d_scratch0                                 
                                                                                           W: quantize_conv_dw_7_conv2d_weights                (128,1,3,3) (53)  
                                                                                           W: quantize_conv_dw_7_conv2d_bias                   (1,1,1,128) (54)  
                                                                                           O: quantize_conv_dw_7_conv2d_output                 (1,7,7,128) (14)  
------------------------------------------------------------------------------------------------------------------------------------------------------------------
14     quantize_conv_pw_7_conv2d                 22   conv2d             802944    16896   I: quantize_conv_dw_7_conv2d_output                 (1,7,7,128) (14)  
                                                                                           S: quantize_conv_pw_7_conv2d_scratch0                                 
                                                                                           W: quantize_conv_pw_7_conv2d_weights                (128,128,1,1) (55)
                                                                                           W: quantize_conv_pw_7_conv2d_bias                   (1,1,1,128) (56)  
                                                                                           O: quantize_conv_pw_7_conv2d_output                 (1,7,7,128) (15)  
------------------------------------------------------------------------------------------------------------------------------------------------------------------
15     quantize_conv_dw_8_conv2d                 24   conv2d             56576     1664    I: quantize_conv_pw_7_conv2d_output                 (1,7,7,128) (15)  
                                                                                           S: quantize_conv_dw_8_conv2d_scratch0                                 
                                                                                           W: quantize_conv_dw_8_conv2d_weights                (128,1,3,3) (57)  
                                                                                           W: quantize_conv_dw_8_conv2d_bias                   (1,1,1,128) (58)  
                                                                                           O: quantize_conv_dw_8_conv2d_output                 (1,7,7,128) (16)  
------------------------------------------------------------------------------------------------------------------------------------------------------------------
16     quantize_conv_pw_8_conv2d                 25   conv2d             802944    16896   I: quantize_conv_dw_8_conv2d_output                 (1,7,7,128) (16)  
                                                                                           S: quantize_conv_pw_8_conv2d_scratch0                                 
                                                                                           W: quantize_conv_pw_8_conv2d_weights                (128,128,1,1) (59)
                                                                                           W: quantize_conv_pw_8_conv2d_bias                   (1,1,1,128) (60)  
                                                                                           O: quantize_conv_pw_8_conv2d_output                 (1,7,7,128) (17)  
------------------------------------------------------------------------------------------------------------------------------------------------------------------
17     quantize_conv_dw_9_conv2d                 27   conv2d             56576     1664    I: quantize_conv_pw_8_conv2d_output                 (1,7,7,128) (17)  
                                                                                           S: quantize_conv_dw_9_conv2d_scratch0                                 
                                                                                           W: quantize_conv_dw_9_conv2d_weights                (128,1,3,3) (61)  
                                                                                           W: quantize_conv_dw_9_conv2d_bias                   (1,1,1,128) (62)  
                                                                                           O: quantize_conv_dw_9_conv2d_output                 (1,7,7,128) (18)  
------------------------------------------------------------------------------------------------------------------------------------------------------------------
18     quantize_conv_pw_9_conv2d                 28   conv2d             802944    16896   I: quantize_conv_dw_9_conv2d_output                 (1,7,7,128) (18)  
                                                                                           S: quantize_conv_pw_9_conv2d_scratch0                                 
                                                                                           W: quantize_conv_pw_9_conv2d_weights                (128,128,1,1) (63)
                                                                                           W: quantize_conv_pw_9_conv2d_bias                   (1,1,1,128) (64)  
                                                                                           O: quantize_conv_pw_9_conv2d_output                 (1,7,7,128) (19)  
------------------------------------------------------------------------------------------------------------------------------------------------------------------
19     quantize_conv_dw_10_conv2d                30   conv2d             56576     1664    I: quantize_conv_pw_9_conv2d_output                 (1,7,7,128) (19)  
                                                                                           S: quantize_conv_dw_10_conv2d_scratch0                                
                                                                                           W: quantize_conv_dw_10_conv2d_weights               (128,1,3,3) (65)  
                                                                                           W: quantize_conv_dw_10_conv2d_bias                  (1,1,1,128) (66)  
                                                                                           O: quantize_conv_dw_10_conv2d_output                (1,7,7,128) (20)  
------------------------------------------------------------------------------------------------------------------------------------------------------------------
20     quantize_conv_pw_10_conv2d                31   conv2d             802944    16896   I: quantize_conv_dw_10_conv2d_output                (1,7,7,128) (20)  
                                                                                           S: quantize_conv_pw_10_conv2d_scratch0                                
                                                                                           W: quantize_conv_pw_10_conv2d_weights               (128,128,1,1) (67)
                                                                                           W: quantize_conv_pw_10_conv2d_bias                  (1,1,1,128) (68)  
                                                                                           O: quantize_conv_pw_10_conv2d_output                (1,7,7,128) (21)  
------------------------------------------------------------------------------------------------------------------------------------------------------------------
21     quantize_conv_dw_11_conv2d                33   conv2d             56576     1664    I: quantize_conv_pw_10_conv2d_output                (1,7,7,128) (21)  
                                                                                           S: quantize_conv_dw_11_conv2d_scratch0                                
                                                                                           W: quantize_conv_dw_11_conv2d_weights               (128,1,3,3) (69)  
                                                                                           W: quantize_conv_dw_11_conv2d_bias                  (1,1,1,128) (70)  
                                                                                           O: quantize_conv_dw_11_conv2d_output                (1,7,7,128) (22)  
------------------------------------------------------------------------------------------------------------------------------------------------------------------
22     quantize_conv_pw_11_conv2d                36   optimized_conv2d   1618432   33792   I: quantize_conv_dw_11_conv2d_output                (1,7,7,128) (22)  
                                                                                           S: quantize_conv_pw_11_conv2d_scratch0                                
                                                                                           S: quantize_conv_pw_11_conv2d_scratch1                                
                                                                                           W: quantize_conv_pw_11_conv2d_weights               (128,256,1,1) (71)
                                                                                           W: quantize_conv_pw_11_conv2d_bias                  (1,1,1,256) (72)  
                                                                                           O: quantize_conv_pw_11_conv2d_output                (1,1,1,256) (23)  
------------------------------------------------------------------------------------------------------------------------------------------------------------------
23     quantize_conv_preds_conv2d                39   conv2d             4626      4680    I: quantize_conv_pw_11_conv2d_output                (1,1,1,256) (23)  
                                                                                           S: quantize_conv_preds_conv2d_scratch0                                
                                                                                           W: quantize_conv_preds_conv2d_weights               (256,18,1,1) (73) 
                                                                                           W: quantize_conv_preds_conv2d_bias                  (1,1,1,18) (74)   
                                                                                           O: quantize_conv_preds_conv2d_output                (1,1,1,18) (24)   
------------------------------------------------------------------------------------------------------------------------------------------------------------------
24     quantize_conv_preds_conv2d_0_conversion   39   conv               36        0       I: quantize_conv_preds_conv2d_output                (1,1,1,18) (24)   
                                                                                           O: quantize_conv_preds_conv2d_0_conversion_output   (1,1,1,18) (25)   
------------------------------------------------------------------------------------------------------------------------------------------------------------------
25     act_softmax                               40   nl                 270       0       I: quantize_conv_preds_conv2d_0_conversion_output   (1,1,1,18) (25)   
                                                                                           O: act_softmax_output                               (1,1,1,18) (26)   
------------------------------------------------------------------------------------------------------------------------------------------------------------------



Complexity report per layer - macc=11,801,396 weights=134,776 act=101,144 ram_io=150,601
-----------------------------------------------------------------------------------------------
id   name                         c_macc                    c_rom                     c_id    
-----------------------------------------------------------------------------------------------
1    quantize_conv1_conv2d        ||||||||||||||||  23.0%   |                  0.2%   [0]     
3    quantize_conv_dw_1_conv2d    ||                 1.9%   |                  0.1%   [1]     
4    quantize_conv_pw_1_conv2d    |||                3.4%   |                  0.1%   [2]     
6    quantize_conv_dw_2_conv2d    |                  1.0%   |                  0.2%   [3]     
7    quantize_conv_pw_2_conv2d    |||                3.4%   |                  0.5%   [4]     
9    quantize_conv_dw_3_conv2d    ||                 1.9%   |                  0.3%   [5]     
10   quantize_conv_pw_3_conv2d    |||||              6.8%   |                  0.9%   [6]     
12   quantize_conv_dw_4_conv2d    |                  0.5%   |                  0.3%   [7]     
13   quantize_conv_pw_4_conv2d    |||                3.4%   ||                 1.7%   [8]     
15   quantize_conv_dw_5_conv2d    |                  1.0%   |                  0.6%   [9]     
16   quantize_conv_pw_5_conv2d    |||||              6.8%   ||                 3.2%   [10]    
18   quantize_conv_dw_6_conv2d    |                  0.2%   |                  0.6%   [11]    
19   quantize_conv_pw_6_conv2d    |||                3.4%   ||||               6.5%   [12]    
21   quantize_conv_dw_7_conv2d    |                  0.5%   |                  1.2%   [13]    
22   quantize_conv_pw_7_conv2d    |||||              6.8%   ||||||||          12.5%   [14]    
24   quantize_conv_dw_8_conv2d    |                  0.5%   |                  1.2%   [15]    
25   quantize_conv_pw_8_conv2d    |||||              6.8%   ||||||||          12.5%   [16]    
27   quantize_conv_dw_9_conv2d    |                  0.5%   |                  1.2%   [17]    
28   quantize_conv_pw_9_conv2d    |||||              6.8%   ||||||||          12.5%   [18]    
30   quantize_conv_dw_10_conv2d   |                  0.5%   |                  1.2%   [19]    
31   quantize_conv_pw_10_conv2d   |||||              6.8%   ||||||||          12.5%   [20]    
33   quantize_conv_dw_11_conv2d   |                  0.5%   |                  1.2%   [21]    
34   quantize_conv_pw_11_conv2d   |||||||||         13.7%   ||||||||||||||||  25.1%   [22]    
39   quantize_conv_preds_conv2d   |                  0.0%   |||                3.5%   [23, 24]
40   act_softmax                  |                  0.0%   |                  0.0%   [25]    

Generated files (5)
---------------------------------------------------------------------
/Users/edoardo/.stm32cubemx/network_output/network_config.h
/Users/edoardo/.stm32cubemx/network_output/network.h
/Users/edoardo/.stm32cubemx/network_output/network.c
/Users/edoardo/.stm32cubemx/network_output/network_data.h
/Users/edoardo/.stm32cubemx/network_output/network_data.c
